package com.app.Service;

import java.util.List;

import org.modelmapper.ModelMapper;
import org.springframework.beans.factory.annotation.Autowired;

import com.app.Entities.BookTicket;
import com.app.Repository.TicketRepository;
import com.app.Ticket.dto.AuthRespnseDTO;

public class TicketServiceImpl implements TicketService {

	@Autowired
	private TicketRepository ticketrepo;
	
	@Autowired
	private ModelMapper mapper;
	
	@Override
	public List<BookTicket> getallticketdetails() {
		
		return ticketrepo.findAll();
	}

	@Override
	public BookTicket addticketdetails(AuthRespnseDTO transientticket) {
		BookTicket t=mapper.map(transientticket, BookTicket.class);
		return ticketrepo.save(t);
	}

	@Override
	public BookTicket updateticketdetails(BookTicket detachedticket) {
		int ticketid;
		String msg="ticket id is Invalid!, can't update the data!";
		if(ticketrepo.existsById(detachedticket.getTicketid())) {
			msg="id with"+detachedticket.getTicketid()+"is updated!";
		}
		return ticketrepo.save(detachedticket);
	}

	@Override
	public String deleteticketdetails(int ticketid) {
		// TODO Auto-generated method stub
		return null;
	}

}
